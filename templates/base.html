<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mana Ooru Auction</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; background: radial-gradient(circle,#0a0a0a 0%,#000 100%); color: #e3eaff; }
    .glass { background: rgba(255,255,255,0.04); backdrop-filter: blur(12px); border-radius: 14px; border: 1px solid rgba(255,255,255,0.09); }
    .neon-border { border:1px solid rgba(0,132,255,0.3); box-shadow:0 0 10px rgba(0,132,255,0.4), inset 0 0 10px rgba(0,132,255,0.3); }
    .neon-text { text-shadow:0 0 8px rgba(0,153,255,0.9); }
    .btn-primary { background: linear-gradient(90deg,#008cff,#00d4ff); font-weight:700; color:black; border-radius:8px; transition:.2s; }
    .btn-primary:hover { opacity:.85; transform: scale(1.03); }
    .btn-danger { background: linear-gradient(90deg,#ff004c,#ff006a); font-weight:700; color:white; border-radius:8px; }
    .btn-warning { background: linear-gradient(90deg,#f9a825,#ffcc00); font-weight:700; color:black; border-radius:8px; }
    .card-hover:hover { transform: scale(1.03); transition:.25s; }
    .loader { border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid #00aaff; border-radius:50%; width:26px;height:26px; animation:spin .9s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* SOLD STAMP */
    .sold-stamp {
        position:absolute;
        top:10px;
        right:10px;
        width:140px;
        opacity:0;
        transform:rotate(-18deg) scale(0.5);
        transition: all .4s ease-out;
        filter: drop-shadow(0 0 6px red);
    }
    .sold-stamp.visible {
        opacity:1;
        transform:rotate(-18deg) scale(1);
    }
  </style>

  <script>
    window.APP_CONFIG = { POLL_INTERVAL_MS: {{ poll_interval_ms | default(1500) }} };

    window.__APP_HELPERS = {
      fetchState: async function() {
        try {
          const r = await fetch("/api/state");
          return await r.json();
        } catch(e){ console.error("fetchState error:",e); return null; }
      },
      setImgSafe: function(imgEl, url, fallback) {
        if(!imgEl) return;
        imgEl.onerror = ()=>{ imgEl.src=fallback; };
        imgEl.src = url || fallback;
      }
    };
  </script>

</head>

<body class="min-h-screen flex flex-col">

  <!-- SOLD AUDIO -->
  <audio id="sold_audio" src="https://playersauction.s3.ap-south-1.amazonaws.com/playerSold.mp3"></audio>

  <!-- NAVBAR -->
  <nav class="w-full glass neon-border py-4 px-6 flex justify-between items-center sticky top-0 z-50">
    <div class="flex items-center justify-center gap-4 py-4">
    
    <!-- Main Title -->
    <h1 class="text-3xl md:text-4xl font-extrabold text-white drop-shadow-lg">
        MPL - Auction 2026
    </h1>

    <!-- ⭐ MAIN SPONSOR LOGO ⭐ -->
    <img src="https://cricketapp-players.s3.ap-south-1.amazonaws.com/Kshatriya+Logo.jpeg"
         class="h-12 md:h-16 object-contain drop-shadow-lg"
         alt="Main Sponsor">
</div>

    <div class="flex gap-4 items-center">
      {% if session.get('user') %}
        <span class="text-sm opacity-80">Hello, {{ session.get('user') }}</span>
        <form action="/logout" method="POST">
          <button class="px-4 py-2 btn-danger">Logout</button>
        </form>
      {% endif %}
    </div>
  </nav>

  <main class="flex-1 p-6">
    {% block content %}{% endblock %}
  </main>

</body>
</html>
